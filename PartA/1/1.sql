CREATE TABLE EMPLOYEE
(
	SSN NUMBER(10) PRIMARY KEY,
	NAME VARCHAR(20),
	DEPTNO VARCHAR(20)
);

CREATE TABLE PROJECT
(
	PROJECT_NO NUMBER(10) PRIMARY KEY,
	PROJECT_AREA VARCHAR(20)
);

CREATE TABLE ASSIGNED_TO
(
	USN NUMBER(10),
	PROJECT_NO NUMBER(10),
	PRIMARY KEY (USN,PROJECT_NO),
	FOREIGN KEY (USN) REFERENCES EMPLOYEE(SSN) ON DELETE CASCADE,
	FOREGIN KEY (PROJECT_NO) REFERENCE PROJECT(PROJECT_NO) ON DELETE CASCADE
);


INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (1,'YASH',3);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (2,'Tingri',1);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (3,'Tenali',1);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (4,'Vijay',1);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (5,'Vinay',2);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (6,'Daniel',2);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (7,'Joseph',2);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (8,'Alia',2);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (9,'Kim',3);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (10,'Gadafi',3);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (11,'Osama',3);
INSERT INTO EMPLOYEE (SSN,NAME,DEPTNO) VALUES (12,'Saddam',3);

INSERT INTO PROJECT (PROJECT_NO,PROJECT_AREA) VALUES (1,'NETWORKS');
INSERT INTO PROJECT (PROJECT_NO,PROJECT_AREA) VALUES (2,'MATHS');
INSERT INTO PROJECT (PROJECT_NO,PROJECT_AREA) VALUES (3,'DATABASE');
INSERT INTO PROJECT (PROJECT_NO,PROJECT_AREA) VALUES (4,'OS');

INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (1,2);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (2,4);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (3,4);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (4,4);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (5,2);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (6,1);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (7,4);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (8,2);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (9,3);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (10,3);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (11,4);
INSERT INTO ASSIGNED_TO (USN,PROJECT_NO) VALUES (12,3);


SELECT USN 
FROM ASSIGNED_TO
WHERE PROJECT_NO = ( SELECT PROJECT_NO 
		     FROM PROJECT
		     WHERE PROJECT_AREA = "DATABASE");

SELECT DEPTNO,COUNT(*)
FROM EMPLOYEE
GROUP BY DEPTNO;

UPDATE ASSIGNED_TO 
SET PROJECT_NO=20
WHERE SSN=1;


